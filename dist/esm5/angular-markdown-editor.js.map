{
  "version": 3,
  "file": "angular-markdown-editor.js",
  "sources": [
    "ng://angular-markdown-editor/out/lib/angular-markdown-editor/angular-markdown-editor.module.ts",
    "ng://angular-markdown-editor/out/lib/angular-markdown-editor/angular-markdown-editor.component.ts",
    "ng://angular-markdown-editor/out/lib/angular-markdown-editor/markdown-editor-config.ts",
    "ng://angular-markdown-editor/out/lib/angular-markdown-editor/global-editor-options.ts"
  ],
  "sourcesContent": [
    "import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { AngularMarkdownEditorComponent } from './angular-markdown-editor.component';\r\nimport { EditorOption } from './models';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [AngularMarkdownEditorComponent],\r\n  exports: [AngularMarkdownEditorComponent],\r\n  entryComponents: [AngularMarkdownEditorComponent]\r\n})\r\nexport class AngularMarkdownEditorModule {\r\n  static forRoot(config: EditorOption = {}) {\r\n    return {\r\n      ngModule: AngularMarkdownEditorModule,\r\n      providers: [\r\n        { provide: 'config', useValue: config }\r\n      ]\r\n    };\r\n  }\r\n}\r\n",
    "import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injectable, Input, ViewChild } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { EditorLocale, EditorOption, Dictionary } from './models';\r\nimport { GlobalEditorOptions } from './global-editor-options';\r\n\r\ndeclare var $: any;\r\n\r\nexport const MARKDOWN_EDITOR_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => AngularMarkdownEditorComponent),\r\n  multi: true\r\n};\r\n\r\n@Injectable()\r\n@Component({\r\n  moduleId: 'angulaMarkdownEditor',\r\n  selector: 'angular-markdown-editor',\r\n  template: '<textarea #markdownEditorElm id=\"{{textareaId}}\" name=\"{{textareaId}}\" data-provide=\"markdown\" rows=\"{{rows}}\"></textarea>',\r\n  providers: [MARKDOWN_EDITOR_VALUE_ACCESSOR]\r\n})\r\nexport class AngularMarkdownEditorComponent implements AfterViewInit {\r\n  @ViewChild('markdownEditorElm') elm: ElementRef;\r\n\r\n  /** Locale set that has a language and dictionary that can be added as an alternative language. Can be 1 or more dictionaries */\r\n  @Input()\r\n  set locale(locale: EditorLocale | EditorLocale[]) {\r\n    this.addLocaleSet(locale);\r\n  }\r\n\r\n  /** Id of the textarea DOM element used by the lib */\r\n  @Input() textareaId: string;\r\n\r\n  /** Markdown Editor Options to pass to the element */\r\n  @Input() options?: EditorOption;\r\n\r\n  /** Number of rows for the textarea */\r\n  @Input() rows = 10;\r\n\r\n  public value: any | any[];\r\n  public onModelChange: Function = () => {};\r\n  public onModelTouched: Function = () => {};\r\n\r\n  constructor(@Inject('config') private forRootConfig: EditorOption) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.initialization();\r\n  }\r\n\r\n  addLocaleSet(editorLocale: EditorLocale | EditorLocale[]) {\r\n    if (!editorLocale) {\r\n      return;\r\n    }\r\n    if (Array.isArray(editorLocale)) {\r\n      editorLocale.forEach((locale: EditorLocale) => $.fn.markdown.messages[locale.language] = locale.dictionary);\r\n    } else {\r\n      $.fn.markdown.messages[editorLocale.language] = editorLocale.dictionary;\r\n    }\r\n  }\r\n\r\n  initialization() {\r\n    // get all default options to get the entire list of onEvent so that we can attach Dispatch Custom Event to them\r\n    // we also merge these with the options, and pass these merged options to the hookToEditorEvents() method to cover all onEvent callbacks\r\n    const markdownDefaultOptions = $.fn.markdown.defaults;\r\n\r\n    // re-hook new events that were optionally defined in the options\r\n    // merge the options, the order matters (last options on the right have higher priorities)\r\n    const options = { ...markdownDefaultOptions, ...GlobalEditorOptions, ...this.forRootConfig, ...this.options };\r\n\r\n    // hook all events to respective callbacks\r\n    // 1- could be coming from a Dispatched Event in the View:: (onX)=\"do()\"\r\n    // 2- or from editor option callback in the Component:: const options = { onX: () => do() }\r\n    this.hookToEditorEvents(options);\r\n\r\n    // hook to the onChange event to update our model\r\n    // however we don't want to override the previous callback, so we will run that one to if exists\r\n    const previousOnChange = options.onChange;\r\n    options.onChange = (e) => {\r\n      this.onModelChange(e && e.getContent && e.getContent());\r\n      if (typeof previousOnChange === 'function') {\r\n        previousOnChange(e);\r\n      }\r\n    };\r\n\r\n    // finally create the editor\r\n    $(`#${this.textareaId}`).markdown(options);\r\n  }\r\n\r\n  /**\r\n   * Hook any of the editor event(s) to Dispatch Custom Event so that we can use them in Angular with (onX)=\"doSomething($event.detail.eventData)\"\r\n   * @param editor options\r\n   */\r\n  hookToEditorEvents(options) {\r\n    for (const prop in options) {\r\n      if (options.hasOwnProperty(prop) && prop.startsWith('on')) {\r\n        const previousEvent = options[prop];\r\n\r\n        // on Callback triggered\r\n        options[prop] = (e) => {\r\n          // Dispatch a Custom Event, so that the (onX)=\"do()\" from the View works\r\n          this.dispatchCustomEvent(prop, { eventData: e });\r\n\r\n          // if an event was passed through the options (instead of dispatch), and is not empty function, then we need to run it as well\r\n          // basically we don't want the Dispatch Custom Event (onX)=\"do()\" to override the ones passed directly in the editor option callbacks\r\n          if (typeof previousEvent === 'function') {\r\n            previousEvent(e);\r\n          }\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Write value to the native element\r\n   * @param value string\r\n   */\r\n  writeValue(value: string): void {\r\n    this.value = value;\r\n\r\n    // preset values in the DOM element\r\n    if (this.value) {\r\n      this.elm.nativeElement.value = this.value;\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: Function): void {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function): void {\r\n    this.onModelTouched = fn;\r\n  }\r\n\r\n  /** Dispatch of Custom Event, which by default will bubble & is cancelable */\r\n  private dispatchCustomEvent(eventName: string, data?: any, isBubbling: boolean = true, isCancelable: boolean = true) {\r\n    const eventInit: CustomEventInit = { bubbles: isBubbling, cancelable: isCancelable };\r\n    if (data) {\r\n      eventInit.detail = data;\r\n    }\r\n    return this.elm.nativeElement.dispatchEvent(new CustomEvent(eventName, eventInit));\r\n  }\r\n}\r\n",
    "import { GlobalEditorOptions } from './global-editor-options';\r\n\r\nexport class MarkdownEditorConfig {\r\n  options: any;\r\n\r\n  constructor() {\r\n    this.options = GlobalEditorOptions;\r\n  }\r\n}\r\n",
    "import { EditorOption } from './models/editorOption.interface';\n\nexport const GlobalEditorOptions: EditorOption = {\n  autofocus: false,\n  disabledButtons: [],\n  dropZoneOptions: null,\n  enableDropDataUri: false,\n  footer: '',\n  height: 'inherit',\n  hiddenButtons: [],\n  hideable: false,\n  iconlibrary: 'glyph',\n  initialstate: 'editor',\n  language: 'fr',\n  additionalButtons: [\n    [{\n    name: 'groupFont',\n    data: [{\n      name: 'cmdStrikethrough',\n      toggle: false,\n      title: 'Strikethrough',\n      icon: {\n        fa: 'fa fa-strikethrough',\n        glyph: 'glyphicon glyphicon-minus'\n      },\n      callback: (e) => {\n        // Give/remove ~~ surround the selection\n        let chunk;\n        let cursor;\n        const selected = e.getSelection();\n        const content = e.getContent();\n\n        if (selected.length === 0) {\n          // Give extra word\n          chunk = e.__localize('strikethrough');\n        } else {\n          chunk = selected.text;\n        }\n\n        // transform selection and set the cursor into chunked text\n        if (content.substr(selected.start - 2, 2) === '~~' &&\n          content.substr(selected.end, 2) === '~~') {\n          e.setSelection(selected.start - 2, selected.end + 2);\n          e.replaceSelection(chunk);\n          cursor = selected.start - 2;\n        } else {\n          e.replaceSelection('~~' + chunk + '~~');\n          cursor = selected.start + 2;\n        }\n\n        // Set the cursor\n        e.setSelection(cursor, cursor + chunk.length);\n      }\n    }]\n    },\n    {\n      name: 'groupMisc',\n      data: [{\n        name: 'cmdTable',\n        toggle: false,\n        title: 'Table',\n        icon: {\n          fa: 'fa fa-table',\n          glyph: 'glyphicon glyphicon-th'\n        },\n        callback: (e) => {\n          // Replace selection with some drinks\n          let chunk;\n          let cursor;\n          const selected = e.getSelection();\n\n          chunk = '\\n| Tables        | Are           | Cool  | \\n'\n            + '| ------------- |:-------------:| -----:| \\n'\n            + '| col 3 is      | right-aligned | $1600 | \\n'\n            + '| col 2 is      | centered      |   $12 | \\n'\n            + '| zebra stripes | are neat      |    $1 |';\n\n          // transform selection and set the cursor into chunked text\n          e.replaceSelection(chunk);\n          cursor = selected.start;\n\n          // Set the cursor\n          e.setSelection(cursor, cursor + chunk.length);\n        }\n      }]\n    }]\n  ]\n};\n"
  ],
  "names": [],
  "mappings": "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"
}
